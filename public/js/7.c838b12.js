(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"81nT":function(e,o,t){"use strict";t.r(o);var a=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"ABOUT"},[t("q-card",{staticClass:"bg-white"},[e.spinner?t("div",{staticClass:"loader"}):e._e(),t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12",attrs:{align:"right"}},[t("q-btn",{attrs:{slot:"right"},on:{click:function(o){e.addUser()}},slot:"right"},[e._v("ADD USER")])],1)]),t("q-table",{attrs:{data:e.tableData,title:"User Details",columns:e.columns,color:"black",filter:e.filter,separator:e.separator,"row-key":"name",loading:e.loading},scopedSlots:e._u([{key:"top-right",fn:function(o){return[t("q-search",{staticClass:"col-12",model:{value:e.filter,callback:function(o){e.filter=o},expression:"filter"}})]}},{key:"body",fn:function(o){return t("q-tr",{staticClass:"cursor-pointer",attrs:{props:o}},[e._l(o.cols,function(a){return t("q-td",{key:a.name,attrs:{props:o}},[e._v("\n         "+e._s(a.value)+"\n       ")])}),t("q-td",[t("q-btn",{staticClass:"q-mr-xs",attrs:{color:"green",icon:"edit"},on:{click:function(t){e.editUserData(o.row)}}})],1)],2)}}])}),t("q-modal",{attrs:{"no-backdrop-dismiss":"","content-css":{minWidth:"70vw"}},model:{value:e.userModalAdd,callback:function(o){e.userModalAdd=o},expression:"userModalAdd"}},[t("q-modal-layout",[t("q-toolbar",{staticClass:"bg-secondary",attrs:{slot:"header"},slot:"header"},[e.addUserDiv?t("q-toolbar-title",[e._v("\n            Add New User\n          ")]):e._e(),e.editUserDiv?t("q-toolbar-title",[e._v("\n            Edit User\n          ")]):e._e(),t("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(o){e.closePopUp()}}})],1),t("div",{staticClass:"q-pa-lg"},[t("div",{staticClass:"row gutter-sm q-mb-md"},[t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("q-field",[t("q-input",{attrs:{type:"text","float-label":"FirstName *"},model:{value:e.firstName,callback:function(o){e.firstName=o},expression:"firstName"}}),e.firstNameErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                          Please Enter the First Name.\n                    ")]):e._e()],1)],1),t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("q-field",[t("q-input",{attrs:{type:"text","float-label":"LastName *"},model:{value:e.lastName,callback:function(o){e.lastName=o},expression:"lastName"}}),e.lastNameErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                         Please Enter the Last Name.\n                   ")]):e._e()],1)],1),t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("q-field",[t("q-input",{staticClass:"input-field inline_s",attrs:{type:"text","float-label":"EmailId *"},model:{value:e.emailId,callback:function(o){e.emailId=o},expression:"emailId"}}),e.emailIdErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                     Please Enter the Email Id.\n                   ")]):e._e()],1)],1)]),t("div",{staticClass:"row gutter-md"},[t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("q-field",[t("q-input",{staticClass:"input-field inline_s",attrs:{type:"text",readonly:e.readonly,"float-label":"MobileNumber *"},model:{value:e.mobileNo,callback:function(o){e.mobileNo=o},expression:"mobileNo"}}),e.mobileNoErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                       Please Enter the Mobile Number.\n                    ")]):e._e()],1)],1),t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("q-field",[t("q-select",{attrs:{options:e.roleDataOptions,"float-label":"Role *"},on:{input:function(o){e.roleChangeEvent(o)}},model:{value:e.dropDownRole,callback:function(o){e.dropDownRole=o},expression:"dropDownRole"}}),e.roleErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                        Please Select the Role.\n                   ")]):e._e()],1)],1),e.checkStatusForAdmin?t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4",staticStyle:{"padding-top":"40px"}},[t("div",{staticClass:"col-lg-4 col-md-4 col-sm-6 col-xs-12"},[t("q-toggle",{attrs:{color:"green",label:"Active","left-label":""},model:{value:e.checkStatus,callback:function(o){e.checkStatus=o},expression:"checkStatus"}})],1)]):e._e(),e.doctorsDiv?t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4",staticStyle:{"padding-left":"20px"}},[t("q-field",[t("q-select",{attrs:{options:e.experinceTypeOptions,"float-label":"Select Experience *"},model:{value:e.experinceType,callback:function(o){e.experinceType=o},expression:"experinceType"}}),e.experinceTypeErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                       Please Select.\n                      ")]):e._e()],1)],1):e._e()]),t("div",{staticClass:"row gutter-md"},[e.doctorsDiv?t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("q-field",[t("q-select",{attrs:{options:e.doctorTypeOptions,"float-label":"Specialization *"},on:{input:function(o){e.roleDoctorType(o)}},model:{value:e.doctorType,callback:function(o){e.doctorType=o},expression:"doctorType"}}),e.doctorTypeErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                 Please Select.\n               ")]):e._e()],1)],1):e._e(),e.generalPathologyDiv?t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("q-field",[t("q-select",{attrs:{options:e.GeneralPathologyOptions,"float-label":"GeneralPathology *"},model:{value:e.GeneralPathology,callback:function(o){e.GeneralPathology=o},expression:"GeneralPathology"}}),e.GeneralPathologyErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                 Please Select General Pathology.\n               ")]):e._e()],1)],1):e._e(),e.oncopathologyDiv?t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("q-field",[t("q-select",{attrs:{options:e.OncopathologyOptions,"float-label":"Oncopathology"},model:{value:e.Oncopathology,callback:function(o){e.Oncopathology=o},expression:"Oncopathology"}}),e.OncopathologyErrorMsg?t("div",{staticClass:"first_s"},[e._v("\n                 Please Select Oncopathology.\n               ")]):e._e()],1)],1):e._e(),e.checkStatusForDoctor?t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[t("div",{staticClass:"col-lg-4 col-md-4 col-sm-6 col-xs-12",staticStyle:{"padding-top":"30px"}},[t("q-toggle",{attrs:{color:"green",label:"Inactive","left-label":""},model:{value:e.checkStatus,callback:function(o){e.checkStatus=o},expression:"checkStatus"}})],1)]):e._e()]),t("div",{staticClass:"row",staticStyle:{"margin-top":"20px"}},[t("div",{staticClass:"col-lg-4 col-md-4 col-sm-4 col-xs-4"},[e.image?t("div",{staticClass:"col-lg-4 col-md-4 col-sm-6 col-xs-12"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-10 col-md-10 col-sm-10 col-xs-10",attrs:{align:"right"}},[t("q-btn",{staticClass:"qbt_close",staticStyle:{"vertical-align":"top","margin-left":"3px"},attrs:{slot:"right",round:"",size:"xs",icon:"close"},on:{click:function(o){e.removeimageData(e.image)}},slot:"right"})],1),t("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",align:"right",id:"file"},on:{change:function(o){e.onFileChange(o)}}})]),t("div",{staticClass:"desktop-only"},[t("img",{staticClass:"avatar",attrs:{src:e.image,alt:"profile"}})]),t("div",{staticClass:"mobile-only",attrs:{align:"center"}},[t("img",{staticClass:"mobile-avatar",attrs:{src:e.image,alt:"profile"}})])]):t("div",{staticClass:"col-lg-4 col-md-4 col-sm-6 col-xs-12"},[t("div",{staticClass:"desktop-only"},[t("img",{staticClass:"avatar",attrs:{src:"statics/avatar.png",alt:"profile"}}),t("input",{ref:"file",attrs:{type:"file"},on:{change:function(o){e.onFileChange(o)}}})]),t("div",{staticClass:"mobile-only",attrs:{align:"center"}},[t("img",{staticClass:"mobile-avatar",attrs:{src:"statics/avatar.png",alt:"profile"}})])])])]),t("div",{staticClass:"row justify-end q-mt-md"},[t("div",{staticClass:"col-lg-3 col-md-3 col-sm-3 col-xs-12"},[t("q-btn",{staticClass:"full-width",attrs:{disabled:e.disableSbtn},on:{click:function(o){e.submitUserData()}}},[e._v("\n                   SUBMIT\n                 ")])],1)])])],1)],1)],1)],1)},l=[];a._withStripped=!0;t("KKXr"),t("f3/d"),t("rGqo");var s=t("xgT5"),i=t("YqlJ"),r=t("Ztd7"),n=t("ezih"),c=t("U/5N"),d=t("CVJq"),m=t("dkar"),p=t("ZYCo"),g=t("WTFv"),u=t("L0iJ"),h=t("YYYh"),y=t("cFFF"),f=t("KnAT"),v=t("vJud"),b={components:{QTable:s["a"],QTh:i["a"],QTr:r["a"],QTd:n["a"],QTableColumns:c["a"],QModal:d["a"],QCard:m["a"],QCardTitle:p["a"],QSelect:g["a"],QUploader:u["a"],QSearch:h["a"],QLayout:y["a"],QModalLayout:f["a"],QToggle:v["a"]},data:function(){return{tableData:[],loading:!1,separator:"cell",filter:"",userModalAdd:!1,firstName:"",firstNameErrorMsg:!1,lastName:"",lastNameErrorMsg:!1,emailId:"",emailIdErrorMsg:!1,mobileNo:"",mobileNoErrorMsg:!1,file:"",imageFileErrMsg:!1,eventImg:"",uploadedImages:"",adminimageDiv:!0,doctorimageDiv:!1,image:"",dropDownRole:"",roleErrorMsg:!1,doctorsDiv:!1,GeneralPathology:"",GeneralPathologyErrorMsg:!1,GeneralPathologyOptions:[{name:"Haematopathology",value:"Haematopathology",label:"Haematopathology"},{name:"Histopathology",value:"Histopathology",label:"Histopathology"},{name:"Clinical pathology",value:"Clinical pathology",label:"Clinical pathology"},{name:"Molecular pathology",value:"Molecular pathology",label:"Molecular pathology"}],Oncopathology:"",OncopathologyErrorMsg:!1,OncopathologyOptions:[{name:"Hemato Oncopathology",value:"Hemato Oncopathology",label:"Hemato Oncopathology"},{name:"Histo Oncopathology",value:"Histo Oncopathology",label:"Histo Oncopathology"}],roleDataOptions:[{name:"Admin",value:"Admin",label:"Admin"},{name:"Doctor",value:"Doctor",label:"Doctor"},{name:"Student",value:"Student",label:"Student"}],experinceType:"",experinceTypeErrorMsg:!1,readonly:!1,experinceTypeOptions:[{name:"Experience",value:"Experience",label:"Experience"},{name:"Employer",value:"Employer",label:"Employer"}],doctorType:"",doctorTypeErrorMsg:!1,doctorTypeOptions:[{name:"General Pathology",value:"General Pathology",label:"General Pathology"},{name:"Oncopathology",value:"Oncopathology",label:"Oncopathology"}],oncopathologyDiv:!1,generalPathologyDiv:!1,disableSbtn:!1,addUserDiv:!1,editUserDiv:!1,number:"",checkStatus:!1,checkStatusForAdmin:!1,checkStatusForDoctor:!1,spinner:!1,userId:"",columns:[{name:"userName",required:!0,label:"User Name",align:"center",field:"userName",sortable:!0,descending:!1},{name:"emailIdDb",label:"Email ID",align:"center",field:"emailIdDb",sortable:!0},{name:"mobileNo",label:"Mobile No",align:"center",field:"mobileNo",sortable:!0},{name:"role",label:"Role",align:"center",field:"role",sortable:!0}]}},created:function(){var e=this;firebase.auth().onAuthStateChanged(function(o){e.userId=o.uid}),e.updateDataTable()},methods:{updateDataTable:function(){var e=this;e.loading=!0,setTimeout(function(){e.loading=!1},2e3),e.getUsersData()},getUsersData:function(){var e=this;e.tableData.length=0,firebase.database().ref("userDetails").orderByChild("createdAt").once("value",function(o){o.forEach(function(o){""!==o.val().firstName&&e.tableData.push({userName:o.val().firstName+" "+o.val().lastName,emailIdDb:o.val().emailId,mobileNo:o.val().mobileNo,role:o.val().role,status:o.val().is_active})}),e.tableData.reverse()})},addUser:function(){var e=this;e.addUserDiv=!0,e.userModalAdd=!0},editUserData:function(e){var o=this;o.readonly=!0,o.editUserDiv=!0,o.userModalAdd=!0,firebase.database().ref("userDetails").orderByChild("userid/uid").once("value",function(t){t.forEach(function(t){t.val().mobileNo===e.mobileNo&&(o.firstName=t.val().firstName,o.lastName=t.val().lastName,o.mobileNo=t.val().mobileNo,o.emailId=t.val().emailId,o.dropDownRole=t.val().role,o.image=t.val().profile_image,console.log(t.val().profile_image),"Admin"===o.dropDownRole&&(o.checkStatusForAdmin=!0,o.checkStatusForDoctor=!1),"Doctor"===o.dropDownRole&&(o.checkStatusForDoctor=!0,o.checkStatusForAdmin=!1),"Student"===o.dropDownRole&&(o.checkStatusForAdmin=!0,o.checkStatusForDoctor=!1),""!==o.dropDownRole&&o.roleChangeEvent(o.dropDownRole),o.experinceType=t.val().experinceType,o.doctorType=t.val().doctorType,""!==o.doctorType&&o.roleDoctorType(o.doctorType),o.GeneralPathology=t.val().generalPathology,o.Oncopathology=t.val().Oncopathology,o.checkStatus=t.val().is_active)})})},roleChangeEvent:function(e){var o=this;"Doctor"===e?(o.doctorsDiv=!0,o.generalPathologyDiv=!1,o.oncopathologyDiv=!1,o.adminimageDiv=!1,this.doctorimageDiv=!0):(o.doctorsDiv=!1,o.Oncopathology="",o.GeneralPathology="",o.experinceType="",o.doctorType="",o.generalPathologyDiv=!1,o.oncopathologyDiv=!1,o.adminimageDiv=!0,this.doctorimageDiv=!1)},roleDoctorType:function(e){var o=this;"General Pathology"===e?(o.generalPathologyDiv=!0,o.oncopathologyDiv=!1,o.Oncopathology=""):"Oncopathology"===e?(o.generalPathologyDiv=!1,o.oncopathologyDiv=!0,o.GeneralPathology=""):(o.generalPathologyDiv=!1,o.oncopathologyDiv=!1,o.GeneralPathology="",o.Oncopathology="")},submitUserData:function(){var e=this;!0===e.addUserDiv&&e.addUserFunction(),!0===e.editUserDiv&&e.editUserFunction()},editUserFunction:function(){var e=this;if(e.disableSbtn=!0,e.validationForUserData()){var o=(new Date).getTime();firebase.database().ref("userDetails").orderByChild("mobileNo").equalTo(e.mobileNo).on("child_added",function(t){var a={firstName:e.firstName,lastName:e.lastName,emailId:e.emailId,mobileNo:e.mobileNo,role:e.dropDownRole,is_active:e.checkStatus,createdAt:t.val().createdAt,updatedAt:o,createdBy:t.val().createdBy,updatedBy:e.userId,profile_image:e.image};"Doctor"===e.dropDownRole&&"General Pathology"===e.doctorType?(a.generalPathology=e.GeneralPathology,a.doctorType=e.doctorType,a.experinceType=e.experinceType):"Doctor"===e.dropDownRole&&"Oncopathology"===e.doctorType&&(a.Oncopathology=e.Oncopathology,a.doctorType=e.doctorType,a.experinceType=e.experinceType),firebase.database().ref("userDetails").child(t.key).set(a).then(function(){console.log("User's data updated"),e.userModalAdd=!1,e.$q.notify({color:"green",textColor:"white",message:"Data has been updated succussfully",position:"bottom-left",timeout:3e3}),e.updateDataTable(),e.emtpyAllFields(),e.disableSbtn=!1}).catch(function(o){console.log(o),e.$q.notify({color:"black",textColor:"white",message:"Data couldn't be saved.Please try again later.",position:"bottom-left",timeout:3e3}),e.emtpyAllFields(),e.disableSbtn=!1})})}e.disableSbtn=!1},addUserFunction:function(){var e=this;if(e.disableSbtn=!0,e.validationForUserData()){var o=(new Date).getTime();if(e.number="+91"+e.mobileNo,e.image=e.uploadedImages,"Doctor"===e.dropDownRole&&"General Pathology"===e.doctorType)var t={firstName:e.firstName,lastName:e.lastName,emailId:e.emailId,mobileNo:e.number,role:e.dropDownRole,generalPathology:e.GeneralPathology,experinceType:e.experinceType,doctorType:e.doctorType,is_active:e.checkStatus,createdAt:o,updatedAt:o,deletedAt:"",createdBy:e.userId,updatedBy:"",profile_image:e.image,deletedBy:""};else if("Doctor"===e.dropDownRole&&"Oncopathology"===e.doctorType)t={firstName:e.firstName,lastName:e.lastName,emailId:e.emailId,mobileNo:e.number,role:e.dropDownRole,Oncopathology:e.Oncopathology,experinceType:e.experinceType,doctorType:e.doctorType,is_active:e.checkStatus,createdAt:o,updatedAt:o,createdBy:e.userId,profile_image:e.image,updatedBy:""};else t={firstName:e.firstName,lastName:e.lastName,emailId:e.emailId,mobileNo:e.number,role:e.dropDownRole,is_active:e.checkStatus,createdAt:o,updatedAt:o,createdBy:e.userId,profile_image:e.image,updatedBy:""};var a=0;firebase.database().ref("userDetails").orderByChild("userid/uid").once("value",function(o){o.numChildren()>=1?(o.forEach(function(o){e.number!==o.val().mobileNo?a<1&&(a+=1,firebase.database().ref("userDetails").push(t).then(function(){console.log("User's data inserted"),e.userModalAdd=!1,e.$q.notify({color:"green",textColor:"white",message:"Data has been entered succussfully",position:"bottom-left",timeout:3e3}),e.updateDataTable(),e.emtpyAllFields(),e.disableSbtn=!1}).catch(function(o){console.log(o),e.$q.notify({color:"black",textColor:"white",message:"Data couldn't be saved.Please try again later.",position:"bottom-left",timeout:3e3}),e.emtpyAllFields(),e.disableSbtn=!1})):a<1&&(e.$q.notify({color:"black",textColor:"white",message:e.number+" , already exist.Please provide another number",position:"bottom-left",timeout:3e3}),e.disableSbtn=!1)}),a=0):firebase.database().ref("userDetails").push(t).then(function(){console.log("User's data inserted"),e.userModalAdd=!1,e.$q.notify({color:"green",textColor:"white",message:"Data has been entered succussfully",position:"bottom-left",timeout:3e3}),e.updateDataTable(),e.emtpyAllFields(),e.disableSbtn=!1})})}e.disableSbtn=!1},closePopUp:function(){var e=this;e.emtpyAllFields(),e.userModalAdd=!1},emtpyAllFields:function(){var e=this;e.firstName="",e.lastName="",e.emailId="",e.mobileNo="",e.dropDownRole="",e.GeneralPathology="",e.Oncopathology="",e.experinceType="",e.doctorType="",e.firstNameErrorMsg=!1,e.lastNameErrorMsg=!1,e.emailIdErrorMsg=!1,e.mobileNoErrorMsg=!1,e.GeneralPathologyErrorMsg=!1,e.OncopathologyErrorMsg=!1,e.doctorTypeErrorMsg=!1,e.experinceTypeErrorMsg=!1,e.roleErrorMsg=!1,e.doctorsDiv=!1,e.oncopathologyDiv=!1,e.generalPathologyDiv=!1,e.addUserDiv=!1,e.editUserDiv=!1,e.checkStatusForAdmin=!1,e.checkStatusForDoctor=!1,e.readonly=!1,e.image="",e.disabled=!1,e.uploadedImages="",e.eventImg=""},validationForUserData:function(){if(""===this.firstName)return this.firstNameErrorMsg=!0,!1;if(this.firstNameErrorMsg=!1,""===this.lastName)return this.lastNameErrorMsg=!0,!1;if(this.lastNameErrorMsg=!1,""===this.emailId)return this.emailIdErrorMsg=!0,!1;if(this.emailIdErrorMsg=!1,""===this.mobileNo)return this.mobileNoErrorMsg=!0,!1;if(this.mobileNoErrorMsg=!1,""===this.dropDownRole)return this.roleErrorMsg=!0,!1;if(this.roleErrorMsg=!1,"Doctor"===this.dropDownRole){if(""===this.experinceType)return this.experinceTypeErrorMsg=!0,!1;if(this.experinceTypeErrorMsg=!1,""===this.doctorType)return this.doctorTypeErrorMsg=!0,!1;this.doctorTypeErrorMsg=!1}if("General Pathology"===this.doctorType){if(""===this.GeneralPathology)return this.GeneralPathologyErrorMsg=!0,!1;this.GeneralPathologyErrorMsg=!1}if("Oncopathology"===this.doctorType){if(""===this.Oncopathology)return this.OncopathologyErrorMsg=!0,!1;this.OncopathologyErrorMsg=!1}return!0},onFileChange:function(e){var o=this;""===o.eventImg?console.log("this is empty"):console.log(o.eventImg),o.spinner=!0,o.eventImg=e.target.files,o.imagesUpload(),setTimeout(function(){o.spinner=!1},2e3)},imagesUpload:function(){var e=this,o=e.eventImg,t=firebase.storage().ref("All_Image_Uploads"),a=+new Date+"-"+o[0].name,l={contentType:o[0].type},s=t.child(a).put(o[0],l);s.on("state_changed",function(o){e.spinner=!0;var t=o.bytesTransferred/o.totalBytes*100;switch(console.log("Upload is "+t+"% done"),o.state){case firebase.storage.TaskState.PAUSED:console.log("Upload is paused");break;case firebase.storage.TaskState.RUNNING:console.log("Upload is running");break}},function(o){console.log(o),e.spinner=!1},function(){s.snapshot.ref.getDownloadURL().then(function(o){e.image=o,e.uploadedImages=o})})},parseFirebaseImageUrl:function(e){var o=e.split("?")[0],t=o.split("/"),a=o.split("/").length;return t[a-1].split("%2F")[1]},removeimageData:function(e){var o=this;e=o.parseFirebaseImageUrl(e),console.log(e);var t=firebase.storage().ref(),a=t.child("All_Image_Uploads/"+e);a.delete().then(function(){console.log("successfully removed image from storage"),o.image=""}).catch(function(e){console.log("Something went wrong while removing image")})}}},D=b,N=(t("QVJe"),t("KHd+")),T=Object(N["a"])(D,a,l,!1,null,null,null);o["default"]=T.exports},JF9g:function(e,o,t){},QVJe:function(e,o,t){"use strict";var a=t("JF9g"),l=t.n(a);l.a}}]);