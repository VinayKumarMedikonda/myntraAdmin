(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{EA5t:function(t,i,a){},akZ6:function(t,i,a){"use strict";var e=a("EA5t"),s=a.n(e);s.a},p90w:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"ABOUT"},[a("q-card",{staticClass:"bg-white"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12",attrs:{align:"right"}},[a("q-btn",{attrs:{slot:"right"},on:{click:function(i){t.addquiz()}},slot:"right"},[t._v("ADD Quiz")])],1)]),a("q-table",{attrs:{data:t.tableData,title:"Quiz",columns:t.columns,color:"black",filter:t.filter,separator:t.separator,"row-key":"name",loading:t.loading},scopedSlots:t._u([{key:"top-right",fn:function(i){return[a("q-search",{staticClass:"col-12",model:{value:t.filter,callback:function(i){t.filter=i},expression:"filter"}})]}},{key:"body",fn:function(i){return a("q-tr",{staticClass:"cursor-pointer",attrs:{props:i}},[t._l(i.cols,function(e){return a("q-td",{key:e.name,attrs:{props:i}},[t._v("\n            "+t._s(e.value)+"\n          ")])}),a("q-td",[a("q-btn",{staticClass:"q-mr-xs",attrs:{color:"green",icon:"edit"},on:{click:function(a){t.editQuizData(i.row)}}})],1)],2)}}])})],1),a("q-modal",{attrs:{"no-backdrop-dismiss":"","content-css":{minWidth:"70vw",minHeight:"40vh"}},model:{value:t.quizModalAdd,callback:function(i){t.quizModalAdd=i},expression:"quizModalAdd"}},[a("q-modal-layout",[a("q-toolbar",{staticClass:"bg-secondary",attrs:{slot:"header"},slot:"header"},[t.addQuizDiv?a("q-toolbar-title",[t._v("\n          Create Quiz\n        ")]):t._e(),t.editQuizDiv?a("q-toolbar-title",[t._v("\n          Edit Quiz\n        ")]):t._e(),a("q-btn",{staticStyle:{float:"right"},attrs:{flat:"",round:"",dense:"",icon:"close"},on:{click:function(i){t.closePopUp()}}})],1),a("q-card",{staticClass:"bg-white"},[a("div",{staticClass:"row  q-pt-sm justify-center"},[a("div",{staticClass:"col-lg-8 col-md-8 col-sm-8 col-xs-12"},[a("q-input",{staticClass:"custom-search-bar",attrs:{color:"secondary",placeholder:"Type Event Name"},model:{value:t.eventList,callback:function(i){t.eventList=i},expression:"eventList"}},[a("q-autocomplete",{on:{search:t.search,selected:t.selected}})],1)],1)]),t._l(t.quizData,function(i,e){return a("div",{key:e,staticClass:"row question-details q-mt-lg q-pa-md"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-6"},[a("h4",{staticClass:"q-ma-xs"},[t._v("Question "+t._s(e+1)+" :")])]),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-6",attrs:{align:"right"}},[e!==t.quizData.length-1?a("q-btn",{staticClass:"q-ma-xs",staticStyle:{display:"inline-flex"},attrs:{slot:"right",round:"",size:"xs",color:"danger",icon:"close"},on:{click:function(i){t.removeQuizData(e)}},slot:"right"}):t._e(),e===t.quizData.length-1?a("q-btn",{staticClass:"q-ma-xs",staticStyle:{display:"inline-flex"},attrs:{slot:"right",round:"",size:"xs",color:"green",icon:"add"},on:{click:function(i){t.addOneMoreQuizData(e)}},slot:"right"}):t._e()],1)]),a("div",{staticClass:"row q-mb-md"},[a("div",{staticClass:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},[a("q-input",{attrs:{type:"textarea","stack-label":"Enter a question",rows:"1"},model:{value:i.question,callback:function(a){t.$set(i,"question",a)},expression:"data.question"}})],1)]),a("div",{staticClass:"row gutter-md q-mb-md"},[a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},[a("q-input",{attrs:{name:"option1","border-line":"green","stack-label":"Option A"},model:{value:i.option1,callback:function(a){t.$set(i,"option1",a)},expression:"data.option1"}})],1),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},[a("q-input",{attrs:{name:"option2","border-line":"green","stack-label":"Option B"},model:{value:i.option2,callback:function(a){t.$set(i,"option2",a)},expression:"data.option2"}})],1)]),a("div",{staticClass:"row gutter-md q-mb-md"},[a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},[a("q-input",{attrs:{name:"option3","border-line":"green","stack-label":"Option C"},model:{value:i.option3,callback:function(a){t.$set(i,"option3",a)},expression:"data.option3"}})],1),a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},[a("q-input",{attrs:{name:"option4","border-line":"green","stack-label":"Option D"},model:{value:i.option4,callback:function(a){t.$set(i,"option4",a)},expression:"data.option4"}})],1)]),a("div",{staticClass:"row gutter-md q-mb-md"},[a("div",{staticClass:"col-lg-6 col-md-6 col-sm-6 col-xs-12"},[a("q-input",{staticClass:"col-lg-12 margin-btm",attrs:{name:"answer","border-line":"green","stack-label":"Original Answer"},model:{value:i.answer,callback:function(a){t.$set(i,"answer",a)},expression:"data.answer"}})],1)])])])}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"}),a("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"}),a("div",{staticClass:"col-md-4 col-sm-12 col-xs-12",staticStyle:{"padding-top":"20px"},attrs:{align:"right"}},[a("q-card-main",[a("q-btn",{staticClass:"full-width fin_s",attrs:{disabled:t.disableSbtn},on:{click:function(i){t.quiz_submit()}}},[a("span",{staticClass:"otp_fs"},[t._v("Publish Quiz")])])],1)],1),a("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"})])],2),a("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"})],1)],1)],1)},s=[];e._withStripped=!0;a("rGqo");var o=a("lSNA"),n=a.n(o),l={data:function(){var t;return t={eventOptions:[],quizData:[{question:"",option1:"",option2:"",option3:"",option4:"",answer:""}],eventid:"",finalQuizData:{},userId:"",loading:"",tableData:[],separator:"cell",addQuizDiv:!1,quizModalAdd:!1,editQuizDiv:!1,disableSbtn:!1},n()(t,"quizModalAdd",!1),n()(t,"filter",""),n()(t,"columns",[{name:"Event",required:!0,label:"Event",align:"center",field:"Event",sortable:!0,descending:!1},{name:"Total_Questions",label:"Total_Questions",align:"center",field:"total_questions",sortable:!0}]),n()(t,"quiz_event",""),n()(t,"quiz_total_questions",""),n()(t,"question",""),n()(t,"option1",""),n()(t,"option2",""),n()(t,"option3",""),n()(t,"option4",""),n()(t,"answer",""),n()(t,"quiz_event_err_msg",""),n()(t,"quiz_total_questions_err_msg",""),n()(t,"firebase_key",""),n()(t,"eventList",[]),t},created:function(){var t=this;firebase.auth().onAuthStateChanged(function(i){t.userId=i.uid}),firebase.database().ref("eventDetails").orderByChild("userid/uid").once("value",function(i){i.forEach(function(i){t.eventOptions.push({label:i.val().title_name,value:i.key,name:i.val().title_name})})}),t.updateDataTable()},methods:{removeQuizData:function(t){this.quizData.splice(t,1)},updateDataTable:function(){var t=this;t.loading=!0,setTimeout(function(){t.loading=!1},2e3),t.getQuizData()},getQuizData:function(){var t=this;t.tableData=[],firebase.database().ref("quiz").orderByChild("userid/uid").once("value",function(i){i.forEach(function(i){""!==i.val().question&&firebase.database().ref("eventDetails").orderByChild("userid/uid").once("value",function(a){a.forEach(function(a){a.key===i.val().event_id&&t.tableData.push({Event:a.val().title_name,total_questions:i.val().questions_data.length,key:i.key})})})})})},addquiz:function(){var t=this;t.addQuizDiv=!0,t.quizModalAdd=!0},editQuizData:function(t){var i=this;i.editQuizDiv=!0,i.quizModalAdd=!0,firebase.database().ref("quiz").orderByChild("userid/uid").once("value",function(a){a.forEach(function(a){a.key===t.key&&(i.eventList=a.val().event_id,a.val().questions_data.forEach(function(t){i.quizData.push({question:t.question,option1:t.option1,option2:t.option2,option3:t.option3,option4:t.option4,answer:t.answer})}))})}),i.quizData.splice(0,1)},addOneMoreQuizData:function(t){void 0!==this.quizData[t].question&&""!==this.quizData[t].question?this.quizData.push({question:this.question,option1:this.option1,option2:this.option2,option3:this.option3,option4:this.option4,answer:this.answer}):swal({title:"Question",text:"Please fill the question "+(t+1),icon:"warning"})},closePopUp:function(){var t=this;t.emtpyAllFields(),t.quizModalAdd=!1},emtpyAllFields:function(){var t=this;t.quizData=[{question:"",option1:"",option2:"",option3:"",option4:"",answer:""}],t.addQuizDiv=!1,t.editQuizDiv=!1,t.eventList=""},quiz_submit:function(){var t=this;!0===t.addQuizDiv&&t.addQuizData(),!0===t.editQuizDiv&&t.editQuizzData()},addQuizData:function(){this.quizData.push({question:this.question,option1:this.option1,option2:this.option2,option3:this.option3,option4:this.option4,answer:this.answer}),this.quizData.splice(this.quizData.length-1,1),this.finalQuizData["event_id"]=this.eventList,this.finalQuizData.questions_data=this.quizData,this.quizData=[{question:"",option1:"",option2:"",option3:"",option4:"",answer:""}],this.eventid="",""!==this.finalQuizData.event_id&&0!==this.finalQuizData.length?firebase.database().ref("quiz").push(this.finalQuizData).then(function(t){swal({title:"Quiz Published!",icon:"success"})},function(t){swal({title:"Oops!",text:"Something went wrong",icon:"error"})}):swal({title:"Oops!",text:"Fill the select event & question fields",icon:"error"})},editQuizzData:function(){var t=this.quiz_event,i=this.questions_data,a=this.question,e=this.option1,s=this.option2,o=this.option3,n=this.option4,l=this.answer,c={event:t,questions_data:i,quiz_question:a,quiz_option1:e,quiz_option2:s,quiz_option3:o,quiz_option4:n,quiz_answer:l};console.log(c),firebase.database().ref("quiz").child(this.firebase_key).set(c).then(function(){console.log("User's data updated"),this.$q.notify({color:"green",textColor:"white",message:"Data has been updated succussfully",position:"bottom-left",timeout:3e3}),this.quizModalAdd=!1}),this.closePopUp(),this.updateDataTable()},search:function(t,i){setTimeout(function(){i(filter(t,{field:"value",list:parseCountries()}))},1e3)},selected:function(t){this.$q.notify('Selected suggestion "'.concat(t.label,'"'))}}},c=l,u=(a("akZ6"),a("KHd+")),d=Object(u["a"])(c,e,s,!1,null,null,null);i["default"]=d.exports}}]);